<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>妮娜·杜波夫</title>
	</head>
	<body>

	</body>
	<script type="text/javascript">
		//获取body
		var body0 = document.querySelector('body');
		//创建
		var divWrap = document.createElement('div');
		var divPhoto = document.createElement('div');
		//创建存放img.src的数组
		var photoArr = ['http://img10.3lian.com/c1/newpic/09/08/27.jpg','http://dl.bizhi.sogou.com/images/1280x800/2013/12/23/462831.jpg','http://imgstore.cdn.sogou.com/app/a/100540002/501570.jpg','http://image11.m1905.cn/uploadfile/2012/0711/20120711034228879_watermark.jpg','http://img.kuping.cc/data/Image/2013wtt/10yue/12hao/124/20131011162547856.jpg','http://images.china.cn/attachement/jpg/site1000/20121113/001aa0ba5c77120bdd2549.jpg'];
		//创建左右按钮
		var spanLeft = document.createElement('span');
		var spanRight = document.createElement('span');
		spanLeft.innerHTML = '<';
		spanRight.innerHTML = '>';
		spanLeft.style.display = spanRight.style.display = 'inline-block';
		spanLeft.style.position = spanRight.style.position = 'absolute';
		spanLeft.style.width = spanLeft.style.height = spanRight.style.width = spanRight.style.height = 46 + 'px';
		spanLeft.style.fontSize = spanRight.style.fontSize = 2.8 + 'em';
		spanLeft.style.lineHeight = spanRight.style.lineHeight = 46 + 'px';
		spanLeft.style.textAlign = spanRight.style.textAlign = 'center';
		spanLeft.style.cursor = spanRight.style.cursor = 'pointer';
		spanLeft.style.opacity = spanRight.style.opacity = 0.5;
		spanLeft.style.fontFamily = spanRight.style.fontFamily = '"Microsoft YaHei",tahoma,arial,"Hiragino Sans GB","\5b8b\4f53",sans-serif';
		spanLeft.style.top = spanRight.style.top = '50%';
		spanLeft.style.transform = spanRight.style.transform = 'translateY(-50%)';
		spanLeft.style.left = '0px';
		spanRight.style.right = '0px';
		//创建下方页码
		var divSpan = document.createElement('div');
		divSpan.style.position = 'absolute';
		divSpan.style.left = '50%';
		divSpan.style.transform = 'translateX(-50%)';
		divSpan.style.bottom = '20px';
		for(var i = 0;i < photoArr.length;i ++){
			var span = document.createElement('span');
			span.style.display = 'inline-block';
			span.style.width = span.style.height = 26 + 'px';
			span.style.border = '1px solid #f07070';
			span.style.textAlign = 'center';
			span.style.color = '#f07070';
			span.style.cursor = 'pointer';
			span.style.lineHeight = 26 + 'px';
			span.style.borderRadius = 50 + '%';
			span.style.margin = '0px 10px';
			// span.style.className = 'divSpanss'; 这不能加className?
			span.innerHTML = i + 1;
			divSpan.appendChild(span);
		}
		//获取每一个下方页码
		divSpan.id = 'divSpan';
		// var divSpans = document.querySelectorAll('#divSpan span'); 为什么这样写不行?
		var divSpans = divSpan.getElementsByTagName('span');
		console.log(divSpans);
		//设置样式
		//设置divWrap样式
		divWrap.style.width = 600 + 'px';
		divWrap.style.height = 400 + 'px';
		divWrap.style.position = 'relative';
		divWrap.style.border = '1px solid black';
		divWrap.style.margin = '20px auto';
		divWrap.style.overflow = 'hidden';

		//设置divPhoto样式
		divPhoto.style.width = 8888 + 'px';
		divPhoto.style.height = 400 + 'px';
		divPhoto.style.position = 'absolute';
		divPhoto.style.left = 0 + 'px';
		divPhoto.style.transition = 'all 1s';

		//将img 添加到divPhoto 中
		for(var i = 0;i < photoArr.length;i ++){
			var img = document.createElement('img');
			img.src = photoArr[i];
			img.style.width = 600 + 'px';
			img.style.height = 400 + 'px';
			img.style.float = 'left';
			divPhoto.appendChild(img);
		}
		//设置布局
		body0.appendChild(divWrap);
		divWrap.appendChild(divPhoto);
		divWrap.appendChild(spanLeft);
		divWrap.appendChild(spanRight);
		divWrap.appendChild(divSpan);
		// ............................................轮播开始...................................................
		//自动轮播
		var photoNum = 0;
		divSpans[photoNum].style.background = '#f07070';
		divSpans[photoNum].style.color = '#fff';
		function autoPlay(){
			timer = setInterval(function(){
				photoNum ++;
				if(photoNum > photoArr.length-1){
					photoNum = 0;
				}
				divPhoto.style.left = photoNum * (-600) + 'px';
				for(var i = 0;i < photoArr.length;i ++){
					divSpans[i].style.background = '';
					divSpans[i].style.color = '#f07070';
				}
				divSpans[photoNum].style.background = '#f07070';
				divSpans[photoNum].style.color = '#fff';
			},3500)
		}
		autoPlay();
		function clear(){
			clearInterval(timer);
		}
		//左右按钮点击
		spanRight.onclick = function(){
			clear();
			photoNum ++;
			if(photoNum > photoArr.length-1){
				photoNum = 0;
			}
			divPhoto.style.left = photoNum * (-600) + 'px';
			for(var i = 0;i < photoArr.length;i ++){
					divSpans[i].style.background = '';
					divSpans[i].style.color = '#f07070';
				}
			divSpans[photoNum].style.background = '#f07070';
			divSpans[photoNum].style.color = '#fff';
			autoPlay();
		}
		spanLeft.onclick = function(){
			clear();
			photoNum --;
			if(photoNum < 0){
				photoNum = photoArr.length-1;
			}
			divPhoto.style.left = photoNum * (-600) + 'px';
			for(var i = 0;i < photoArr.length;i ++){
					divSpans[i].style.background = '';
					divSpans[i].style.color = '#f07070';
				}
			divSpans[photoNum].style.background = '#f07070';
			divSpans[photoNum].style.color = '#fff';
			autoPlay();
		}
		//页码点击
		for(var i = 0;i < divSpans.length;i ++){
			divSpans[i].index = i;
			divSpans[i].onclick = function(){
				clear();
				divPhoto.style.left = this.index * (-600) + 'px';
				photoNum = this.index;
				for(var i = 0;i < photoArr.length;i ++){
					divSpans[i].style.background = '';
					divSpans[i].style.color = '#f07070';
				}
				divSpans[this.index].style.background = '#f07070';
				divSpans[this.index].style.color = '#fff';
				autoPlay();
			}
		}
	</script>
</html>